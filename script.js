const table = [
  ["a", "[Ã¤]", "ã‚¢", "é˜¿", "ã‚", "å®‰", "â ", "æœæ—¥ã®ã‚¢",],
  ["i", "[i]", "ã‚¤", "ä¼Š", "ã„", "ä»¥", "â ƒ", "ã„ã‚ã¯ã®ã‚¤",],
  ["u", "[É¯Ì¹]", "ã‚¦", "å®‡", "ã†", "å®‡", "â ‰", "ä¸Šé‡Žã®ã‚¦",],
  ["e", "[eÌž]", "ð›€€", "è¡£", "ãˆ", "è¡£", "â ‹", "è‹±èªžã®ð›€€",],
  ["o", "[oÌž]", "ã‚ª", "æ–¼", "ãŠ", "æ–¼", "â Š", "å¤§é˜ªã®ã‚ª",],
  ["ka", "[kÃ¤]", "ã‚«", "åŠ ", "ã‹", "åŠ ", "â ¡", "çˆ²æ›¿ã®ã‚«"],
  ["ki", "[kÊ²i]", "ã‚­", "å¹¾", "ã", "å¹¾", "â £", "åˆ‡æ‰‹ã®ã‚­",],
  ["ku", "[kÉ¯Ì¹]", "ã‚¯", "ä¹…", "ã", "ä¹…", "â ©", "ã‚¯ãƒ©ãƒ–ã®ã‚¯",],
  ["ke", "[keÌž]", "ã‚±", "ä»‹", "ã‘", "è¨ˆ", "â «", "æ™¯è‰²ã®ã‚±",],
  ["ko", "[koÌž]", "ã‚³", "å·±", "ã“", "å·±", "â ª", "å­ä¾›ã®ã‚³",],
  ["sa", "[sÃ¤]", "ã‚µ", "æ•£", "ã•", "å·¦", "â ±", "æ«»ã®ã‚µ",],
  ["si", "[É•i]", "ã‚·", "ä¹‹", "ã—", "ä¹‹", "â ³", "æ–°èžã®ã‚·",],
  ["su", "[sÉ¯Ì¹]", "ã‚¹", "é ˆ", "ã™", "å¯¸", "â ¹", "é›€ã®ã‚¹",],
  ["se", "[seÌž]", "ã‚»", "ä¸–", "ã›", "ä¸–", "â »", "ä¸–ç•Œã®ã‚»",],
  ["so", "[soÌž]", "ã‚½", "æ›½ (æ›¾)", "ã", "æ›¾", "â º", "ç®—ç›¤ã®ã‚½",],
  ["ta", "[tÃ¤]", "ã‚¿", "å¤š", "ãŸ", "å¤ª", "â •", "ç…™è‰ã®ã‚¿",],
  ["ti", "[tÍ¡É•i]", "ãƒ", "åƒ", "ã¡", "çŸ¥", "â —", "åƒé³¥ã®ãƒ",],
  ["tu", "[tÍ¡sÉ¯Ì¹]", "ãƒ„", "å·ž", "ã¤", "å·ž", "â ", "é¶´äº€ã®ãƒ„",],
  ["te", "[teÌž]", "ãƒ†", "å¤©", "ã¦", "å¤©", "â Ÿ", "æ‰‹ç´™ã®ãƒ†",],
  ["to", "[toÌž]", "ãƒˆ", "æ­¢", "ã¨", "æ­¢", "â ž", "æ±äº¬ã®ãƒˆ",],
  ["na", "[nÃ¤]", "ãƒŠ", "å¥ˆ", "ãª", "å¥ˆ", "â …", "åå¤å±‹ã®ãƒŠ",],
  ["ni", "[nÊ²i]", "ãƒ‹", "äºŒ", "ã«", "ä»", "â ‡", "æ—¥æœ¬ã®ãƒ‹",],
  ["nu", "[nÉ¯Ì¹]", "ãƒŒ", "å¥´", "ã¬", "å¥´", "â ", "æ²¼æ´¥ã®ãƒŒ",],
  ["ne", "[neÌž]", "ãƒ", "ç¥¢ (ç¦°)", "ã­", "ç¥¢ (ç¦°)", "â ", "é¼ ã®ãƒ",],
  ["no", "[noÌž]", "ãƒŽ", "ä¹ƒ", "ã®", "ä¹ƒ", "â Ž", "é‡ŽåŽŸã®ãƒŽ",],
  ["pa", "[hÃ¤]", "ãƒ", "å…«", "ã¯", "æ³¢", "â ¥", "è‘‰æ›¸ã®ãƒ",],
  ["pi", "[Ã§i]", "ãƒ’", "æ¯”", "ã²", "æ¯”", "â §", "é£›è¡Œæ©Ÿã®ãƒ’",],
  ["pu", "[É¸É¯Ì¹]", "ãƒ•", "ä¸", "ãµ", "ä¸", "â ­", "å¯Œå£«å±±ã®ãƒ•",],
  ["pe", "[heÌž]", "ãƒ˜", "éƒ¨", "ã¸", "éƒ¨", "â ¯", "å¹³å’Œã®ãƒ˜",],
  ["po", "[hoÌž]", "ãƒ›", "ä¿", "ã»", "ä¿", "â ®", "ä¿éšªã®ãƒ›",],
  ["ma", "[mÃ¤]", "ãƒž", "ä¸‡ (è¬)", "ã¾", "æœ«", "â µ", "ãƒžãƒƒãƒã®ãƒž",],
  ["mi", "[mÊ²i]", "ãƒŸ", "ä¸‰", "ã¿", "ç¾Ž", "â ·", "ä¸‰ç¬ ã®ãƒŸ",],
  ["mu", "[mÉ¯Ì¹]", "ãƒ ", "ç‰Ÿ", "ã‚€", "æ­¦", "â ½", "ç„¡ç·šã®ãƒ ",],
  ["me", "[meÌž]", "ãƒ¡", "å¥³", "ã‚", "å¥³", "â ¿", "æ˜Žæ²»ã®ãƒ¡",],
  ["mo", "[moÌž]", "ãƒ¢", "æ¯›", "ã‚‚", "æ¯›", "â ¾", "ç´…è‘‰ã®ãƒ¢",],
  ["ja", "[jÃ¤]", "ãƒ¤", "ä¹Ÿ", "ã‚„", "ä¹Ÿ", "â Œ", "å¤§å’Œã®ãƒ¤",],
  ["ji", "[i]=i", "\u{1b120}", "ä»¥", "\u{1b006}", "ä»¥", "", "",],
  ["ju", "[jÉ¯Ì¹]", "ãƒ¦", "å¼“", "ã‚†", "ç”±", "â ¬", "å¼“çŸ¢ã®ãƒ¦",],
  ["je", "[eÌž]=e", "ã‚¨", "æ±Ÿ", "ð›€", "æ±Ÿ", "", "",],
  ["jo", "[joÌž]", "ãƒ¨", "èˆ‡", "ã‚ˆ", "ä¸Ž (èˆ‡)", "â œ", "å‰é‡Žã®ãƒ¨",],
  ["la", "[ÉºÃ¤]", "ãƒ©", "è‰¯", "ã‚‰", "è‰¯", "â ‘", "ãƒ©ãƒ‚ã‚ªã®ãƒ©",],
  ["li", "[ÉºÊ²i]", "ãƒª", "åˆ©", "ã‚Š", "åˆ©", "â “", "æž—æªŽã®ãƒª",],
  ["lu", "[ÉºÉ¯Ì¹]", "ãƒ«", "æµ", "ã‚‹", "ç•™", "â ™", "ç•™å®ˆå±…ã®ãƒ«",],
  ["le", "[ÉºeÌž]", "ãƒ¬", "ç¤¼ (ç¦®)", "ã‚Œ", "ç¤¼ (ç¦®)", "â ›", "è“®è¯ã®ãƒ¬",],
  ["lo", "[ÉºoÌž]", "ãƒ­", "å‘‚", "ã‚", "å‘‚", "â š", "ãƒ­ãƒ¼ãƒžã®ãƒ­",],
  ["va", "[Î²ÌžÃ¤]", "ãƒ¯", "å’Œ", "ã‚", "å’Œ", "â „", "è•¨ã®ãƒ¯",],
  ["vi", "[i]=i", "ãƒ°", "äº•", "ã‚", "çˆ²", "â †", "äº•æˆ¸ã®ãƒ°",],
  ["vu", "[É¯Ì¹]=u", "\u{1b122}", "æ±™", "\u{1b11f}", "äºŽ", "", "",],
  ["ve", "[eÌž]=e", "ãƒ±", "æƒ ", "ã‚‘", "æƒ ", "â –", "é‰¤ã®ã‚ã‚‹ãƒ±",],
  ["vo", "[oÌž]=o", "ãƒ²", "ä¹Ž", "ã‚’", "é ", "â ”", "å°¾å¼µã®ãƒ²",],
  ["n", "[É´]", "ãƒ³", "?", "ã‚“", "æ— ", "â ´", "ãŠçµ‚ã²ã®ãƒ³",],
];

document.addEventListener("DOMContentLoaded", () => {
  const f = index => {
    const row = table[index];
    document.getElementById("roman").innerHTML = row[0];
    document.getElementById("ipa").innerHTML = row[1];
    document.getElementById("kata").innerHTML = row[2];
    document.getElementById("kata-kanzi").innerHTML = row[3];
    document.getElementById("pila").innerHTML = row[4];
    document.getElementById("pila-kanzi").innerHTML = row[5];
    document.getElementById("braille").innerHTML = row[6];
    document.getElementById("code").innerHTML = row[7];
    //document.getElementById("kata-uni").innerHTML = `U+${row[2].charCodeAt().toString(16)}`;
    //document.getElementById("pila-uni").innerHTML = `U+${row[4].charCodeAt().toString(16)}`;

    if (row[3] == row[5]) {
      document.getElementById("pila-kanzi").style.display = "none";
      document.getElementById("kata-kanzi").style.gridColumn = "2 / 4";
    } else {
      document.getElementById("pila-kanzi").style.display = "grid";
      document.getElementById("kata-kanzi").style.gridColumn = "";
    }

    const squares = Array(51).fill("â–¡");
    squares[index] = "â– ";
    //document.getElementById("bar").innerHTML = squares.join("");
    document.getElementsByTagName("progress")[0].setAttribute("value", index / table.length);
  }
  let index = 0;
  f(index);

  const right = () => {
    index = (index + 1) % table.length;
  }

  const left = () => {
    index = (index - 1 + table.length) % table.length;
  }

  document.addEventListener("keydown", ({ key }) => {
    switch (key) {
      case "ArrowRight":
        right();
        break;
      case "ArrowLeft":
        left();
        break;
    }
    f(index);
  })

  document.addEventListener("click", ({ pageX }) => {
    if (pageX < document.body.clientWidth / 2)
      left();
    else
      right();
    f(index)
  });
});